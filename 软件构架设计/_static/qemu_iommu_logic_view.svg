<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="248.89693mm"
   height="107.05632mm"
   viewBox="0 0 248.89695 107.05632"
   version="1.1"
   id="svg1043"
   inkscape:version="0.92.5 (2060ec1f9f, 2020-04-08)"
   sodipodi:docname="qemu_iommu_logic_view.svg">
  <defs
     id="defs1037">
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path1083"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Lend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Lend"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         id="path1077"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.8,0,0,-0.8,-10,0)"
         inkscape:connector-curvature="0" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend-8"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path1083-7"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend-8-5"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path1083-7-6"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)" />
    </marker>
    <marker
       inkscape:stockid="Arrow1Mend"
       orient="auto"
       refY="0"
       refX="0"
       id="Arrow1Mend-8-3"
       style="overflow:visible"
       inkscape:isstock="true">
      <path
         inkscape:connector-curvature="0"
         id="path1083-7-7"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.00000003pt;stroke-opacity:1"
         transform="matrix(-0.4,0,0,-0.4,-4,0)" />
    </marker>
    <marker
       markerWidth="23.823124"
       markerHeight="9.4656763"
       refX="11.911562"
       refY="4.7328382"
       orient="auto"
       id="marker2066">
      <rect
         style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:1.20835996;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
         id="rect1968"
         width="11.890918"
         height="11.33369"
         x="-5.5136189"
         y="6.8333063"
         transform="matrix(0.93728469,-0.34856478,0.92053323,0.39066426,0,0)"
         inkscape:transform-center-x="-2.9074309"
         inkscape:transform-center-y="0.044265248" />
    </marker>
    <marker
       markerWidth="23.823124"
       markerHeight="9.4656763"
       refX="11.911562"
       refY="4.7328382"
       orient="auto"
       id="marker2066-6">
      <rect
         style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:1.20835996;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
         id="rect1968-1"
         width="11.890918"
         height="11.33369"
         x="-5.5136189"
         y="6.8333063"
         transform="matrix(0.93728469,-0.34856478,0.92053323,0.39066426,0,0)"
         inkscape:transform-center-x="-2.9074309"
         inkscape:transform-center-y="0.044265248" />
    </marker>
    <marker
       markerWidth="11.227358"
       markerHeight="12.355258"
       refX="10"
       refY="6.177629"
       orient="auto"
       id="marker4825">
      <path
         inkscape:connector-curvature="0"
         id="path4757"
         d="M 0.42024733,0.42806444 10.231357,6.3500844 0.24347733,11.918544"
         style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
    </marker>
    <marker
       markerWidth="23.823124"
       markerHeight="9.4656763"
       refX="11.911562"
       refY="4.7328382"
       orient="auto"
       id="marker2066-2">
      <rect
         style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:1.20835996;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
         id="rect1968-0"
         width="11.890918"
         height="11.33369"
         x="-5.5136189"
         y="6.8333063"
         transform="matrix(0.93728469,-0.34856478,0.92053323,0.39066426,0,0)"
         inkscape:transform-center-x="-2.9074309"
         inkscape:transform-center-y="0.044265248" />
    </marker>
    <marker
       markerWidth="23.823124"
       markerHeight="9.4656763"
       refX="11.911562"
       refY="4.7328382"
       orient="auto"
       id="marker2066-2-1">
      <rect
         style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:1.20835996;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
         id="rect1968-0-5"
         width="11.890918"
         height="11.33369"
         x="-5.5136189"
         y="6.8333063"
         transform="matrix(0.93728469,-0.34856478,0.92053323,0.39066426,0,0)"
         inkscape:transform-center-x="-2.9074309"
         inkscape:transform-center-y="0.044265248" />
    </marker>
    <marker
       markerWidth="11.227358"
       markerHeight="12.355258"
       refX="10"
       refY="6.177629"
       orient="auto"
       id="marker4825-4">
      <path
         inkscape:connector-curvature="0"
         id="path4757-4"
         d="M 0.42024733,0.42806444 10.231357,6.3500844 0.24347733,11.918544"
         style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
    </marker>
    <marker
       markerWidth="11.227358"
       markerHeight="12.355258"
       refX="10"
       refY="6.177629"
       orient="auto"
       id="marker4825-4-8">
      <path
         inkscape:connector-curvature="0"
         id="path4757-4-6"
         d="M 0.42024733,0.42806444 10.231357,6.3500844 0.24347733,11.918544"
         style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
    </marker>
    <marker
       markerWidth="18.960653"
       markerHeight="11.194658"
       refX="9.4803267"
       refY="5.5973287"
       orient="auto"
       id="marker4643">
      <rect
         transform="matrix(-0.86111274,-0.50841405,0.86111274,-0.50841405,0,0)"
         y="-5.1589785"
         x="-16.168369"
         height="10.317957"
         width="10.317957"
         id="rect4212-9"
         style="fill:#000000;stroke:#000000;stroke-width:0.69143367;stroke-miterlimit:4;stroke-dasharray:none" />
    </marker>
    <marker
       markerWidth="18.960653"
       markerHeight="11.194658"
       refX="9.4803267"
       refY="5.5973287"
       orient="auto"
       id="marker4643-4">
      <rect
         transform="matrix(-0.86111274,-0.50841405,0.86111274,-0.50841405,0,0)"
         y="-5.1589785"
         x="-16.168369"
         height="10.317957"
         width="10.317957"
         id="rect4212-9-9"
         style="fill:#000000;stroke:#000000;stroke-width:0.69143367;stroke-miterlimit:4;stroke-dasharray:none" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="2.8"
     inkscape:cx="439.21953"
     inkscape:cy="160.7099"
     inkscape:document-units="mm"
     inkscape:current-layer="layer1"
     showgrid="false"
     inkscape:window-width="3830"
     inkscape:window-height="2065"
     inkscape:window-x="0"
     inkscape:window-y="40"
     inkscape:window-maximized="0"
     inkscape:document-rotation="0"
     showguides="true"
     inkscape:guide-bbox="true"
     fit-margin-top="10"
     fit-margin-left="10"
     fit-margin-right="10"
     fit-margin-bottom="10">
    <sodipodi:guide
       position="34.006539,48.351186"
       orientation="1,0"
       id="guide1966"
       inkscape:locked="false" />
  </sodipodi:namedview>
  <metadata
     id="metadata1040">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-27.367345,-123.95185)">
    <rect
       style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.27641898;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect1921-2-1"
       width="34.226589"
       height="11.495303"
       x="80.726723"
       y="141.78607" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:9.16376972px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.28636816"
       x="93.5765"
       y="157.09134"
       id="text1049-6-7-6-3-7-8"
       transform="scale(1.039877,0.96165218)"><tspan
         sodipodi:role="line"
         x="93.5765"
         y="157.09134"
         style="font-size:3.43640637px;text-align:center;text-anchor:middle;stroke-width:0.28636816"
         id="tspan1874">IOMMU_X</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:16.25242043px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.50788724"
       x="192.67393"
       y="164.17255"
       id="text2132-3-2"
       transform="scale(0.98823511,1.0119049)"><tspan
         sodipodi:role="line"
         id="tspan2130-6-0"
         x="192.67393"
         y="164.17255"
         style="font-size:4.0631032px;stroke-width:0.50788724">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:2.76552796px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;fill:#0000ff;fill-opacity:1;stroke:none;stroke-width:0.08642282"
       x="75.220047"
       y="145.25731"
       id="text1049-6-7-6-3-2-7-6-7"
       transform="scale(1.0655246,0.93850486)"><tspan
         x="75.220047"
         y="148.02286"
         id="tspan1592"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:sans-serif;-inkscape-font-specification:'sans-serif Italic';stroke-width:0.08642282">物理上的一种IOMMU设备</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:9.16376972px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.28636816"
       x="136.3956"
       y="150.46124"
       id="text1049-6-7-6-3-7-8-3"
       transform="scale(1.039877,0.96165218)"><tspan
         sodipodi:role="line"
         x="136.3956"
         y="150.46124"
         style="font-size:3.43640637px;text-align:center;text-anchor:middle;stroke-width:0.28636816"
         id="tspan1874-6">primary_bus</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:9.16376972px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.28636816"
       x="93.770859"
       y="151.01999"
       id="text1049-6-7-6-3-7-8-7"
       transform="scale(1.039877,0.96165218)"><tspan
         sodipodi:role="line"
         x="93.770859"
         y="151.01999"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.70873547px;font-family:sans-serif;-inkscape-font-specification:'sans-serif Italic';text-align:center;text-anchor:middle;stroke-width:0.28636816"
         id="tspan1874-5">&lt;&lt;device/pic_device&gt;&gt;</tspan></text>
    <rect
       style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.27732313;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect1921-2-1-3"
       width="25.987711"
       height="9.9378471"
       x="174.60643"
       y="139.26526" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:9.16376972px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.28636816"
       x="180.3822"
       y="153.18785"
       id="text1049-6-7-6-3-7-8-5"
       transform="scale(1.039877,0.96165218)"><tspan
         sodipodi:role="line"
         x="180.3822"
         y="153.18785"
         style="font-size:3.43640637px;text-align:center;text-anchor:middle;stroke-width:0.28636816"
         id="tspan1874-62">Bus_X</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:2.76552796px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;fill:#0000ff;fill-opacity:1;stroke:none;stroke-width:0.08642282"
       x="149.76547"
       y="142.2948"
       id="text1049-6-7-6-3-2-7-6-7-9"
       transform="scale(1.0655246,0.93850486)"><tspan
         x="149.76547"
         y="145.06033"
         id="tspan1592-1"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:sans-serif;-inkscape-font-specification:'sans-serif Italic';stroke-width:0.08642282">当前实现都是PCI Bus，所以其实已经绑定总线类型了</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:9.16376972px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.28636816"
       x="180.14996"
       y="148.12875"
       id="text1049-6-7-6-3-7-8-7-2"
       transform="scale(1.039877,0.96165218)"><tspan
         sodipodi:role="line"
         x="180.14996"
         y="148.12875"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.70873547px;font-family:sans-serif;-inkscape-font-specification:'sans-serif Italic';text-align:center;text-anchor:middle;stroke-width:0.28636816"
         id="tspan1874-5-7">&lt;&lt;bus&gt;&gt;</tspan></text>
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.27641898;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker4825)"
       d="m 114.91406,149.2178 59.25197,-4.25441"
       id="path4661"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:1.44069707px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;fill:#0000ff;fill-opacity:1;stroke:none;stroke-width:0.04502182"
       x="61.656044"
       y="166.67957"
       id="text1049-6-7-6-3-2-7-6-7-6"
       transform="scale(1.0782096,0.92746346)"><tspan
         x="61.656044"
         y="168.12027"
         id="tspan1592-0"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:sans-serif;-inkscape-font-specification:'sans-serif Italic';stroke-width:0.04502182" /></text>
    <rect
       style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.27732313;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect1921-2-1-3-6"
       width="24.530045"
       height="10.002731"
       x="178.8526"
       y="167.47354" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:9.16376972px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.28636816"
       x="183.73425"
       y="182.92589"
       id="text1049-6-7-6-3-7-8-5-1"
       transform="scale(1.039877,0.96165218)"><tspan
         sodipodi:role="line"
         x="183.73425"
         y="182.92589"
         style="font-size:3.43640637px;text-align:center;text-anchor:middle;stroke-width:0.28636816"
         id="tspan1874-62-8">Device</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:9.16376972px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.28636816"
       x="183.3801"
       y="177.93423"
       id="text1049-6-7-6-3-7-8-7-2-7"
       transform="scale(1.039877,0.96165218)"><tspan
         sodipodi:role="line"
         x="183.3801"
         y="177.93423"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.70873547px;font-family:sans-serif;-inkscape-font-specification:'sans-serif Italic';text-align:center;text-anchor:middle;stroke-width:0.28636816"
         id="tspan1874-5-7-9">&lt;&lt;device&gt;&gt;</tspan></text>
    <path
       inkscape:connector-curvature="0"
       style="fill:none;stroke:#000000;stroke-width:0.27641898;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker2066-2)"
       d="m 189.30835,167.23719 c -0.23164,0.50037 -2.18034,-14.82695 -2.18034,-14.82695"
       id="path1713-3-23"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:16.25242043px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.50788724"
       x="191.80183"
       y="151.60754"
       id="text2132-3-2-7"
       transform="scale(0.98823511,1.0119049)"><tspan
         sodipodi:role="line"
         id="tspan2130-6-0-5"
         x="191.80183"
         y="151.60754"
         style="font-size:4.0631032px;stroke-width:0.50788724">*</tspan></text>
    <flowRoot
       xml:space="preserve"
       id="flowRoot2711"
       style="font-style:normal;font-weight:normal;font-size:32px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none"
       transform="matrix(0.26458333,0,0,0.26458333,62.874902,158.68628)"><flowRegion
         id="flowRegion2713"><rect
           id="rect2715"
           width="16.25"
           height="50.535713"
           x="39.82143"
           y="26.673668" /></flowRegion><flowPara
         id="flowPara2717" /></flowRoot>    <rect
       style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.27641901;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect1921-2-1-8"
       width="34.226589"
       height="11.495303"
       x="108.87392"
       y="176.90219" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:9.16376972px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.28636816"
       x="120.64433"
       y="193.60777"
       id="text1049-6-7-6-3-7-8-97"
       transform="scale(1.039877,0.96165218)"><tspan
         sodipodi:role="line"
         x="120.64433"
         y="193.60777"
         style="font-size:3.43640637px;text-align:center;text-anchor:middle;stroke-width:0.28636816"
         id="tspan1874-36">IOMMU_X_dev</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:2.76552796px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;fill:#0000ff;fill-opacity:1;stroke:none;stroke-width:0.08642282"
       x="63.799976"
       y="197.07304"
       id="text1049-6-7-6-3-2-7-6-7-1"
       transform="scale(1.0655246,0.93850486)"><tspan
         x="63.799976"
         y="199.83859"
         id="tspan1592-29"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:sans-serif;-inkscape-font-specification:'sans-serif Italic';stroke-width:0.08642282">抽象的，针对总线设备的实例</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:9.16376972px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.28636816"
       x="120.83868"
       y="187.53642"
       id="text1049-6-7-6-3-7-8-7-3"
       transform="scale(1.039877,0.96165218)"><tspan
         sodipodi:role="line"
         x="120.83868"
         y="187.53642"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:2.70873547px;font-family:sans-serif;-inkscape-font-specification:'sans-serif Italic';text-align:center;text-anchor:middle;stroke-width:0.28636816"
         id="tspan1874-5-1">&lt;&lt;none&gt;&gt;</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:16.25242043px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.50788724"
       x="175.56445"
       y="204.68532"
       id="text2132-3-2-9"
       transform="scale(0.98823511,1.0119049)"><tspan
         sodipodi:role="line"
         id="tspan2130-6-0-4"
         x="175.56445"
         y="204.68532"
         style="font-size:4.0631032px;stroke-width:0.50788724">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:16.25242043px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.50788724"
       x="177.20288"
       y="177.75272"
       id="text2132-3-2-78"
       transform="scale(0.98823511,1.0119049)"><tspan
         sodipodi:role="line"
         id="tspan2130-6-0-45"
         x="177.20288"
         y="177.75272"
         style="font-size:4.0631032px;stroke-width:0.50788724">1</tspan></text>
    <g
       id="g3519"
       transform="matrix(0,-0.34045946,0.38013912,0,-173.40102,233.52803)">
      <path
         style="opacity:1;fill:#000000;stroke:#000000;stroke-width:0.80074656;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0"
         d="m 260.69916,631.58295 a 8.6794462,7.8961477 0 0 1 -8.67945,7.89614 8.6794462,7.8961477 0 0 1 -8.67944,-7.89614 8.6794462,7.8961477 0 0 1 8.67944,-7.89615 8.6794462,7.8961477 0 0 1 8.67945,7.89615 z"
         id="path3480"
         inkscape:connector-curvature="0" />
      <path
         inkscape:connector-curvature="0"
         id="path3480-0"
         d="m 240.49983,631.52377 c -0.0397,2.89757 1.05823,5.71909 3.66928,7.62197 6.44794,6.09325 19.18437,1.32066 19.60341,-7.57679"
         style="opacity:1;fill:none;stroke:#000000;stroke-width:1.62625861;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0" />
    </g>
    <path
       style="fill:none;stroke:#000000;stroke-width:0.5078879px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 71.056123,147.98276 c 0.358509,0 9.321236,-0.0917 9.321236,-0.0917"
       id="path3543"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.5078879px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 54.29457,148.02859 c 0.358509,0 9.321236,-0.0917 9.321236,-0.0917"
       id="path3543-3"
       inkscape:connector-curvature="0" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:9.16376972px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.28636816"
       x="47.032242"
       y="150.84128"
       id="text1049-6-7-6-3-7-8-3-6"
       transform="scale(1.039877,0.96165218)"><tspan
         sodipodi:role="line"
         x="47.032242"
         y="150.84128"
         style="font-size:3.43640637px;text-align:center;text-anchor:middle;stroke-width:0.28636816"
         id="tspan1874-6-1">MMIO控制接口</tspan></text>
    <rect
       style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.27641901;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect1921-2-1-8-0"
       width="34.226585"
       height="5.0711136"
       x="91.382133"
       y="209.16356" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:9.16376972px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.28636816"
       x="104.54016"
       y="221.459"
       id="text1049-6-7-6-3-7-8-97-6"
       transform="scale(1.039877,0.96165218)"><tspan
         sodipodi:role="line"
         x="104.54016"
         y="221.459"
         style="font-size:3.43640637px;text-align:center;text-anchor:middle;stroke-width:0.28636816"
         id="tspan1874-36-3">IOMMU_MR</tspan></text>
    <rect
       style="opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:0.27641901;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       id="rect1921-2-1-8-0-2"
       width="34.226585"
       height="5.0711136"
       x="140.24506"
       y="208.5889" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:9.16376972px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.28636816"
       x="151.35693"
       y="220.76596"
       id="text1049-6-7-6-3-7-8-97-6-0"
       transform="scale(1.039877,0.96165218)"><tspan
         sodipodi:role="line"
         x="151.35693"
         y="220.76596"
         style="font-size:3.43640637px;text-align:center;text-anchor:middle;stroke-width:0.28636816"
         id="tspan1874-36-3-6">IOMMU_AS</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:16.25242043px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.50788724"
       x="123.64686"
       y="173.07724"
       id="text2132-3-2-5"
       transform="scale(0.98823511,1.0119049)"><tspan
         sodipodi:role="line"
         id="tspan2130-6-0-47"
         x="123.64686"
         y="173.07724"
         style="font-size:4.0631032px;stroke-width:0.50788724">1</tspan></text>
    <path
       inkscape:connector-curvature="0"
       style="fill:none;stroke:#000000;stroke-width:0.27641898;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker2066-2-1)"
       d="m 120.28674,176.24788 c -0.23164,0.50037 -19.83692,-20.6087 -19.83692,-20.6087"
       id="path1713-3-23-6"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:16.25242043px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.50788724"
       x="103.00342"
       y="155.70544"
       id="text2132-3-2-7-5"
       transform="scale(0.98823511,1.0119049)"><tspan
         sodipodi:role="line"
         id="tspan2130-6-0-5-6"
         x="103.00342"
         y="155.70544"
         style="font-size:4.0631032px;stroke-width:0.50788724">*</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:7.55146503px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.2359836"
       x="182.89482"
       y="194.59814"
       id="text1049-6-7-6-3-7-8-97-6-0-4"
       transform="scale(1.0616671,0.94191484)"><tspan
         sodipodi:role="line"
         x="182.89482"
         y="194.59814"
         style="font-size:2.83179355px;text-align:center;text-anchor:middle;stroke-width:0.2359836"
         id="tspan1874-36-3-6-7">bus_master_as</tspan></text>
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.27641901;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker4825-4)"
       d="m 182.75261,177.60504 -12.83539,31.00052"
       id="path4661-3"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:2.76552796px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;fill:#0000ff;fill-opacity:1;stroke:none;stroke-width:0.08642282"
       x="192.49815"
       y="178.89751"
       id="text1049-6-7-6-3-2-7-6-7-1-0"
       transform="scale(1.0655246,0.93850485)"><tspan
         x="192.49815"
         y="181.66306"
         id="tspan1592-29-7"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:sans-serif;-inkscape-font-specification:'sans-serif Italic';stroke-width:0.08642282">总线上的物理设备</tspan></text>
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.27641901;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker4825-4-8)"
       d="m 145.33053,213.82143 c -4.4342,7.03961 -14.55999,11.28359 -25.13036,0.50033"
       id="path4661-3-8"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:16.25242043px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.50788724"
       x="118.56477"
       y="145.51514"
       id="text2132-3-2-5-8"
       transform="scale(0.98823511,1.0119049)"><tspan
         sodipodi:role="line"
         id="tspan2130-6-0-47-4"
         x="118.56477"
         y="145.51514"
         style="font-size:4.0631032px;stroke-width:0.50788724">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:16.25242043px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.50788724"
       x="169.6768"
       y="142.05208"
       id="text2132-3-2-5-3"
       transform="scale(0.98823511,1.0119049)"><tspan
         sodipodi:role="line"
         id="tspan2130-6-0-47-1"
         x="169.6768"
         y="142.05208"
         style="font-size:4.0631032px;stroke-width:0.50788724">1</tspan></text>
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.27641898;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker4643)"
       d="M 150.74743,208.6111 138.11477,190.51121"
       id="path4857"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.27641901;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker4643-4)"
       d="m 113.50377,209.09795 8.09131,-18.22968"
       id="path4857-2"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:16.25242043px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.50788724"
       x="118.31953"
       y="190.72061"
       id="text2132-3-2-5-0"
       transform="scale(0.98823511,1.0119049)"><tspan
         sodipodi:role="line"
         id="tspan2130-6-0-47-6"
         x="118.31953"
         y="190.72061"
         style="font-size:4.0631032px;stroke-width:0.50788724">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:16.25242043px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.50788724"
       x="112.03474"
       y="205.79129"
       id="text2132-3-2-5-89"
       transform="scale(0.98823511,1.0119049)"><tspan
         sodipodi:role="line"
         id="tspan2130-6-0-47-2"
         x="112.03474"
         y="205.79129"
         style="font-size:4.0631032px;stroke-width:0.50788724">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:16.25242043px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.50788724"
       x="143.84348"
       y="190.84888"
       id="text2132-3-2-5-6"
       transform="scale(0.98823511,1.0119049)"><tspan
         sodipodi:role="line"
         id="tspan2130-6-0-47-64"
         x="143.84348"
         y="190.84888"
         style="font-size:4.0631032px;stroke-width:0.50788724">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:16.25242043px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.50788724"
       x="153.07828"
       y="204.63696"
       id="text2132-3-2-5-9"
       transform="scale(0.98823511,1.0119049)"><tspan
         sodipodi:role="line"
         id="tspan2130-6-0-47-5"
         x="153.07828"
         y="204.63696"
         style="font-size:4.0631032px;stroke-width:0.50788724">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:2.76552796px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;fill:#0000ff;fill-opacity:1;stroke:none;stroke-width:0.08642282"
       x="170.04578"
       y="197.75215"
       id="text1049-6-7-6-3-2-7-6-7-1-0-0"
       transform="scale(1.0655246,0.93850486)"><tspan
         x="170.04578"
         y="200.51768"
         id="tspan1592-29-7-4"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:sans-serif;-inkscape-font-specification:'sans-serif Italic';stroke-width:0.08642282">如果没有IOMMU，这就是system_memory_as了</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:2.76552796px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;fill:#0000ff;fill-opacity:1;stroke:none;stroke-width:0.08642282"
       x="61.748894"
       y="230.01205"
       id="text1049-6-7-6-3-2-7-6-7-1-8"
       transform="scale(1.0655246,0.93850486)"><tspan
         x="61.748894"
         y="232.77759"
         id="tspan1592-29-71"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:sans-serif;-inkscape-font-specification:'sans-serif Italic';stroke-width:0.08642282">translate(mr, addr, flag, iommu_idx)</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:2.89072585px;line-height:1;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;fill:#0000ff;fill-opacity:1;stroke:none;stroke-width:0.09033526"
       x="190.9232"
       y="185.77849"
       id="text1049-6-7-6-3-2-7-6-7-1-0-3"
       transform="scale(1.0769406,0.92855632)"><tspan
         x="190.9232"
         y="188.66924"
         id="tspan1592-29-7-6"
         style="font-style:italic;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:sans-serif;-inkscape-font-specification:'sans-serif Italic';stroke-width:0.09033526">pci_dma_rw(dev, addr, buf, len, directory)</tspan></text>
  </g>
</svg>
